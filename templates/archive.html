{% extends "base.html" %}

{% block content %}
<div class="meta">
    <a href="{{ get_url(path=page.extra.section_path) }}">‚Üê Back to Subreddit</a>
</div>

<h1>{{ page.title }}</h1>

<div class="controls" style="margin: 1rem 0;">
    <input type="text" id="tableFilter" placeholder="Filter title or author..." style="width: 100%; padding: 8px;">
</div>

{% set latest_pages = page.ancestors | last | get_section | get(key="pages") %} 
{% include "partials/table.html" %}

<script>
    document.getElementById('tableFilter').addEventListener('keyup', function() {
        let filter = this.value.toLowerCase();
        let rows = document.querySelectorAll('#archiveTable tbody tr');
        rows.forEach(row => {
            let text = row.innerText.toLowerCase();
            row.style.display = text.includes(filter) ? '' : 'none';
        });
    });
</script>
{% endblock content %}
